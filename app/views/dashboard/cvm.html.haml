
= render 'shared/sidebar'
= render 'shared/navbar'

#wrapper
  .panel.panel-default
  /%nav.navbar.navbar-inverse{:role => "navigation"}
  / Brand and toggle get grouped for better mobile display
  .navbar-header
    %button.navbar-toggle{"data-target" => "#navbarCollapse", "data-toggle" => "collapse", :type => "button"}
      %span.sr-only Toggle navigation
      %span.icon-bar
      %span.icon-bar
      %span.icon-bar
    %button.btn.btn-success{:href => "#tablediv" , :onclick => "cvmlist();", :type => "button"} CVM Imstanses
  
  #navbarCollapse.collapse.navbar-collapse
    %ul#mynavbar.nav.nav-tabs
      %li
        %button.btn.btn-warning{:href => "#terminalpanel", :id =>"openterminal" , :onclick =>  "getterminal();",   :type => "button"} Open terminal
        
      %li
        %button.btn.btn-info{:href => "#detailspanel", :onclick => "getdetails();", :type => "button"} Details
           
            
    
      

     
      %li.col-lg-4
        .input-group
          %input.form-control{:placeholder => "Image Name to commit change", :type => "text"}
            %span.input-group-btn
              %button.btn.btn-primary{:type => "button"} Commit

 
    #detailspanel{:style => "display:none"} 
      %ul#detaillist.list-group
        
        %li.list-group-item

    
        
  #tablediv
    %form#cvm_getid_form
      %table#cvmtable.table.table-bordered.table-hover
        %thead
          %tr
            %th #
            %th Name
            %th Owner
            %th Image
            %th Status
            %th Action
            
        %tbody#cvmtablebody
          - @cvms.each_with_index do |cvm,index|
            - tablestate =  gettablestate
            %tr{ :class => tablestate[cvm['state']]}
              %td
                %input{:name => "cvm_radio", :type => "radio" ,:value => cvm['id'], :id => "cvm_radio"}
              %td= cvm['container_name'] 
              %td= cvm['username']
              %td= cvm['name']
              %td= cvm['state']
              %td 
                .btn-group
                  %button.btn.btn-info.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :type => "button",:value => cvm['id'],:id => "cvmselected"}
                    Action
                    %span.caret  
                  %ul.dropdown-menu{:role => "menu"}
                    %li
                      %a.actionmenu{:href => "#",:value => "1",:id => "option1"} unpause 
                    %li
                      %a.actionmenu{:href => "#" , :value => "2", :id => "option2"} pause
                    %li
                      %a.actionmenu{:href => "#", :value => "3", :id => "option3" } Suspend
                    %li.divider
                    %li
                      %a.actionmenu{:href => "#",:value =>"5", :id => "option4"} kill
                    %li
                      %a.actionmenu{:href => "#",:value => "1", :id => "option5"} Run 
              
  %iframe#terminalpanel{:src => 'http://172.27.20.159:4200', :width => "100%", :height =>"600" }
  
 
   
